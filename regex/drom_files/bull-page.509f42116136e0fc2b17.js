(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5537],{92515:function(e,t,n){"use strict";var r=n(54387),o=n(15257),i=n(62141),a=n(65179),c=n(86484),s=n(49967),l=(0,o.ZP)({resolved:{},chunkName:function(){return"sales-bull-page-layout-desktop"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return(0,a.Z)(Promise.all([n.e(1829),n.e(6788),n.e(1344),n.e(7649),n.e(9232),n.e(7988),n.e(8923),n.e(672),n.e(4079),n.e(6704),n.e(882),n.e(345),n.e(3086),n.e(1869),n.e(8296),n.e(5610),n.e(8118)]).then(n.bind(n,14133)),300)},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function(e){var t=this.resolve(e);return n(t)},resolve:function(){return 14133}},{fallback:r.createElement(c.Z,null)}),u=(0,o.ZP)({resolved:{},chunkName:function(){return"sales-bull-page-layout-mobile"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return(0,a.Z)(Promise.all([n.e(1829),n.e(6788),n.e(1344),n.e(7649),n.e(9232),n.e(8807),n.e(7988),n.e(8923),n.e(672),n.e(4079),n.e(6704),n.e(882),n.e(3086),n.e(1869),n.e(8296),n.e(5610),n.e(8803)]).then(n.bind(n,57698)),300)},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function(e){var t=this.resolve(e);return n(t)},resolve:function(){return 57698}},{fallback:r.createElement(s.Z,null)});t.Z=(0,i.Z)(l,u)},65172:function(e,t,n){"use strict";n.d(t,{pW:function(){return o},B$:function(){return i},vE:function(){return a}});var r=n(7744),o=(0,r.Z)("div",{target:"epjhnwz0"})(),i=(0,r.Z)("div",{target:"epjhnwz1"})(),a=(0,r.Z)("div",{target:"epjhnwz2"})("display:flex;& > ",o,"{flex:0 0 60%;margin-right:20px;}& > ",i,"{position:relative;flex:1 1 auto;min-width:0;}")},77835:function(e,t,n){"use strict";n.d(t,{oq:function(){return i},xm:function(){return c}});var r=n(7744),o=n(54387),i=64,a="".concat(i,"px"),c=(0,r.Z)("div",{target:"ea4payy0"})("height:",a,";min-width:",a,";width:",a,";padding-right:2px;display:inline-block;position:relative;&:first-of-type{padding-left:2px;}& > *{transition:transform 0.15s ease-in-out 0s;",(function(e){return e.isActive&&"transform: scale(0.84375);"}),"}"),s=c.withComponent("a",{target:"ea4payy1"});t.ZP=function(e){var t=e.originalPhotoUrl,n=e.isActive,r=e.children,i=e.onClick;return o.createElement(s,{isActive:n,href:t,onClick:function(e){e.preventDefault(),i()}},r)}},31266:function(e,t,n){"use strict";var r;n.d(t,{l:function(){return r}}),function(e){e[e.NeedConfirnamtion=1]="NeedConfirnamtion",e[e.Pending=2]="Pending",e[e.Declined=3]="Declined"}(r||(r={}))},62948:function(e,t,n){"use strict";var r=n(54387),o=n(26089),i=n(9136),a=n(5408),c="12px",s=i.ZP.withComponent(a.Z,{target:"eeydz430"});t.Z=function(e){var t=e.secondItemWidth;return r.createElement(s,{bottom:"medium",right:"medium",align:"left"},r.createElement(o.Z,{widthValue:"26%",heightValue:c}),r.createElement(o.Z,{widthValue:"".concat(t,"%"),heightValue:c}))}},86484:function(e,t,n){"use strict";var r=n(61428),o=n(7744),i=n(54387),a=n(96919),c=n(6663),s=n(97586),l=n(51780),u=n(26089),d=n(90371),f=n(9136),m=n(41591),p=n(62599),h=n(24155),g=n(65172),v=n(62948),b=n(77753),y=d.ZP.withComponent(l.Z,{target:"e1i7bedf2"}),w=(0,o.Z)(f.ZP,{target:"e1i7bedf0"})({name:"l8s9e4",styles:"margin-left:-2px;"}),O=(0,o.Z)(d.ZP,{target:"e1i7bedf1"})("box-sizing:border-box;width:",(function(e){return e.width}),";&::before{background:",h.Mm,";}");t.Z=function(){return i.createElement(s.Z,{spacings:[{bottom:"85px"},{bottom:"30px",right:"50px"},{bottom:"medium"},{bottom:"2px"},{bottom:"huge"},{bottom:"30px"},{left:"-20px"},{bottom:"2px",left:"2px",spacingDirection:"inner"},{bottom:"medium",left:"medium",spacingDirection:"inner"},{bottom:"large"}]},(function(e){var t=(0,r.Z)(e,10),n=t[0],o=t[1],s=t[2],d=t[3],h=t[4],Z=t[5],E=t[6],D=t[7],P=t[8],N=t[9];return i.createElement(p.lH,null,i.createElement(p.d0,null),i.createElement(a.Z,{className:n}),i.createElement(c.vs,null,i.createElement(u.Z,{widthValue:"74%",heightValue:"30px",className:o}),i.createElement(c.lK,null,i.createElement(c.HF,null,i.createElement(g.vE,null,i.createElement(g.pW,null,i.createElement(y,{className:d,aspectRatio:"4x3"}),i.createElement(w,{className:N,align:"left",wrapItems:!0},Array.from({length:15},(function(e,t){return i.createElement(O,{key:t,className:D,width:"20%",aspectRatio:"4x3"})}))),i.createElement(f.ZP,{className:h},i.createElement(m.Z,{cols:2},i.createElement(u.Z,{className:Z,widthValue:"81%",heightValue:"15px"}),i.createElement(u.Z,{className:Z,widthValue:"75%",heightValue:"15px"}),i.createElement(u.Z,{widthValue:"79%",heightValue:"15px"})),i.createElement(m.Z,{cols:2},i.createElement(u.Z,{className:Z,widthValue:"90%",heightValue:"15px"}),i.createElement(u.Z,{widthValue:"65%",heightValue:"15px"}))),i.createElement(u.Z,{className:s,widthValue:"85%",heightValue:"30px"}),i.createElement(f.ZP,{className:E,wrapItems:!0},Array.from({length:6},(function(e,t){return i.createElement(O,{key:t,width:"33%",className:P,aspectRatio:"4x3"})})))),i.createElement(g.B$,null,i.createElement(u.Z,{className:s,widthValue:"161px",heightValue:"24px"}),i.createElement(u.Z,{className:s,widthValue:"102px",heightValue:"24px"}),i.createElement(l.Z,{className:s,heightValue:"40px"}),i.createElement("div",{className:s},b.b.map((function(e,t){return i.createElement(v.Z,{key:t,secondItemWidth:e})}))),i.createElement(l.Z,{heightValue:"340px",className:N}),i.createElement(u.Z,{heightValue:"12px",className:s}),i.createElement(u.Z,{widthValue:"89%",heightValue:"12px",className:s}),i.createElement(u.Z,{widthValue:"97%",heightValue:"12px",className:s}),i.createElement(u.Z,{widthValue:"71%",heightValue:"12px",className:s}),i.createElement(u.Z,{heightValue:"12px",className:s}),i.createElement(u.Z,{heightValue:"12px",className:s}),i.createElement(u.Z,{widthValue:"97%",heightValue:"12px",className:s}),i.createElement(u.Z,{widthValue:"97%",heightValue:"12px",className:s}),i.createElement(u.Z,{widthValue:"65%",heightValue:"12px",className:s})))),i.createElement(c.z$,null,i.createElement(l.Z,{widthValue:"240px",heightValue:"357px"})))))}))}},49967:function(e,t,n){"use strict";var r=n(61428),o=n(7744),i=n(54387),a=n(30615),c=n(6663),s=n(97586),l=n(51780),u=n(26089),d=n(90371),f=n(24155),m=n(14805),p=n(62948),h=n(77753),g=n(77835),v=(0,m.Z)(f.Mm).setAlpha(.5).toString(),b=d.ZP.withComponent(l.Z,{target:"e12wfhf32"}),y=(0,o.Z)("div",{target:"e12wfhf30"})({name:"1am57kc",styles:"white-space:nowrap;overflow:hidden;"}),w=(0,o.Z)(l.Z,{target:"e12wfhf31"})({name:"1baulvz",styles:"display:inline-block;"});t.Z=function(){return i.createElement(s.Z,{spacings:[{bottom:"60px"},{bottom:"15px"},{right:"-15px",left:"-15px",bottom:"2px"},{right:"-15px",left:"-15px",bottom:"20px"},{right:"2px"},{bottom:"15px"},{bottom:"30px"},{bottom:"medium"}]},(function(e){var t=(0,r.Z)(e,8),n=t[0],o=t[1],s=t[2],d=t[3],f=t[4],m=t[5],O=t[6],Z=t[7];return i.createElement("div",null,i.createElement(a.Z,{className:n}),i.createElement(c.vs,null,i.createElement(u.Z,{widthValue:"272px",heightValue:"25px",className:o}),i.createElement(b,{className:s,aspectRatio:"4x3"}),i.createElement(y,{className:d},Array.from({length:8},(function(e,t){return i.createElement(w,{key:t,className:f,widthValue:"".concat(g.oq,"px"),heightValue:"".concat(g.oq,"px")})}))),i.createElement(u.Z,{className:m,heightValue:"24px",widthValue:"185px"}),i.createElement(u.Z,{className:O,heightValue:"24px",widthValue:"102px"}),i.createElement(l.Z,{heightValue:"40px",className:Z}),i.createElement("div",{className:Z},h.b.map((function(e,t){return i.createElement(p.Z,{key:t,secondItemWidth:e})}))),i.createElement(l.Z,{background:"linear-gradient(180deg, ".concat(v," 0%, transparent 56.07%)"),heightValue:"500px"})))}))}},77753:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var r=[48,9,24,30,26,17,17,62]},8698:function(e,t,n){"use strict";n.d(t,{gH:function(){return a},b7:function(){return c},uc:function(){return s},$Z:function(){return l},iX:function(){return u}});var r,o=n(8078),i=n(89725),a=(r={},(0,o.Z)(r,i.FW.User,"Пользователь"),(0,o.Z)(r,i.FW.Owner,"Продавец"),(0,o.Z)(r,i.FW.You,"Вы"),r),c="https://my.drom.ru/personal/messaging",s="".concat(c,"/drom/api/1.0"),l="https://www.drom.ru/api/sales/bulls",u=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"]},89725:function(e,t,n){"use strict";var r,o,i;n.d(t,{Tt:function(){return r},FW:function(){return o},ET:function(){return i}}),function(e){e[e.Owner=1]="Owner",e[e.User=2]="User"}(r||(r={})),function(e){e[e.User=0]="User",e[e.Owner=1]="Owner",e[e.You=2]="You"}(o||(o={})),function(e){e[e.ShouldLogin=0]="ShouldLogin",e[e.ShouldConfirmPhone=1]="ShouldConfirmPhone"}(i||(i={}))},42573:function(e,t,n){"use strict";var r;n.d(t,{A:function(){return r}}),function(e){e[e.Undefined=0]="Undefined",e[e.HasAssist=1]="HasAssist",e[e.HasNoAssist=2]="HasNoAssist"}(r||(r={}))},1039:function(e,t){"use strict";var n;!function(e){e.DESCRIPTION="description",e.NAME="name",e.IS_MAXIMUM="isMaximum",e.DISCOUNT_TYPE="discountType",e.AMOUNT_DISCOUNT="amountDiscount",e.PERCENT_DISCOUNT="percentDiscount",e.ID="id"}(n||(n={})),t.Z=n},18067:function(e,t){"use strict";var n;!function(e){e[e.PERCENT=1]="PERCENT",e[e.AMOUNT=2]="AMOUNT"}(n||(n={})),t.Z=n},1512:function(e,t,n){"use strict";var r;n.d(t,{u:function(){return r}}),function(e){e[e.New=1]="New",e[e.NewUnofficial=2]="NewUnofficial",e[e.WithoutMileageInRussia=3]="WithoutMileageInRussia"}(r||(r={}))},66619:function(e,t,n){"use strict";var r=n(15679),o=n(96738),i=n(29847),a=n(54387),c=n(23049),s=n(8078),l=n(18481),u=n(90978),d=n(64255),f=function(e,t){for(var n=!1,r=0,o=e.length;r<o;r++)for(var i=e[r],a=0,c=i.addedNodes.length;a<c;a++){var s=i.addedNodes[a];if(1===s.nodeType&&"STYLE"===s.nodeName&&s.innerText.includes("div#")){n=!0;break}}n&&(e.forEach((function(e){for(var t=0,n=e.addedNodes.length;t<n;t++)document.body.removeChild(e.addedNodes[t])})),document.documentElement.style.marginTop="",t.disconnect(),fetch("https://www.drom.ru/dummy.php?mode=ayd"))},m=n(92515);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g,v,b,y,w=(0,l.w)((function(e){var t=e.isMobile,n=e.store,r=e.ab,o=e.candyConfig,c=e.isTrusted,s=e.mileageCondition,l=e.isOwner,p=(0,i.Z)(e,["isMobile","store","ab","candyConfig","isTrusted","mileageCondition","isOwner"]);return(0,a.useEffect)((function(){var e,t={event:"view",name:l?"my_bull":"bull"},n=h(h({},t),{},{payload:{mileage_condition:s,isProvAuto:Number(c)}});(0,u.DU)(t),(0,u.vc)(n),(e=window.MutationObserver||window.WebkitMutationObserver)&&new e(f).observe(document.body,{attributes:!1,childList:!0,subtree:!1})}),[l,c,s]),a.createElement(d.Z,{isMobile:t,ab:r,candyConfig:o,store:n},a.createElement(m.Z,p))})),O=n(61428),Z=n(59891),E=n(47570),D=n(22902),P=n(36584),N=function(e){return/href/.test(e)?e.match(/href="([^"]*)/)[1]:null};!function(e){e.COLOR="color",e.MODEL="model",e.POWER="power",e.TYPE="type",e.VOLUME="volume",e.YEAR="year"}(g||(g={})),function(e){e.COLOR="color",e.MODEL="model",e.POWER="power",e.VOLUME="volume",e.YEAR="year"}(v||(v={})),function(e){e[e.INDIVIDUAL=1]="INDIVIDUAL",e[e.LEGAL=2]="LEGAL"}(b||(b={})),function(e){e[e.USER_IS_ADMIN=2]="USER_IS_ADMIN",e[e.INCORRECT_BULL=3]="INCORRECT_BULL",e[e.USER_IS_NOT_OWNER=4]="USER_IS_NOT_OWNER",e[e.VIN_INFO_NOT_EXISTS=5]="VIN_INFO_NOT_EXISTS",e[e.EMPTY_LOG_DATA=6]="EMPTY_LOG_DATA",e[e.VIN_WAS_UPDATED_RECENTLY=7]="VIN_WAS_UPDATED_RECENTLY",e[e.SHOW_BUTTON=8]="SHOW_BUTTON"}(y||(y={}));var T=n(91851),x=function(e){return"c ".concat((0,T.Z)(e.dateFrom)).concat(e.dateTo?" по ".concat((0,T.Z)(e.dateTo)):"",", ").concat(e.ownershipType===b.INDIVIDUAL?"физ. лицо":"юр. лицо")},S=function(e){return e.frameReport.data.ownershipPeriods?e.frameReport.data.ownershipPeriods.map((function(e){return{title:x(e),lastOperation:e.lastOperation}})):null},j=function(e){var t=e.frameReport.data;return e.isAdmin&&(t.ownershipPeriodsForAdmins||t.lastUpdateInformation)?{ownershipPeriods:t.ownershipPeriodsForAdmins&&t.ownershipPeriodsForAdmins.map((function(e){return x(e)})),updates:t.lastUpdateInformation&&t.lastUpdateInformation.map((function(e){return"".concat(e.about,": ").concat((0,T.Z)(e.changeTime)," (").concat(e.statusDescription,")")}))}:null},A=function(e){var t=e.frameReport.noInfoMessage;return t?t.includes("в течение нескольких минут")?null:t:null},I=n(83953);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=n(25591),C=n(33828),k=n(71063),F=(0,C.Z)({bullId:0,identifier:"",features:null,ownershipPeriods:null,restriction:null,wanted:null,extendedReport:null,reportLink:null}),W=(0,C.Z)(null),B=n(69438),L=(0,R.UY)({data:F,adminData:W,settings:B.ZP}),q=n(96030),Y=n(33497),H={type:n(42573).A.Undefined,assistCardUrl:null,showOwnerCaptions:!1},z=(0,C.Z)(H),$=n(75840),G=n(84424),K=n(47019),X=n(98708),Q=n(99600),J={api:"",bullId:0,isNew:!1,isTrusted:!1,mileageCondition:0,isOwner:!1,price:0,frameType:k.Z.SEDAN_ID,formVersion:0},ee=(0,R.UY)({favorite:q.ZP,constants:(0,C.Z)(J),bullDescription:Y.ZP,assistBanner:z,discount:I.ZP,goodDeal:G.ZP,editDescription:$.ZP,gibddReport:L,ownerConfirmation:K.ZP,gallery:X.ZP,questionsAndAnswers:Q.ZP});function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(e){var t=e.favorite,n=e.constants,r=e.bullDescription,o=e.assistBanner,a=e.priceWidgetData,c=e.fastEdit,l=e.report,u=e.owningConfirmationNotice,d=e.gallery,f=e.qaBlock,m=[].concat((0,Z.Z)((0,E.Bx)()),[(0,D.h)()]),p={constants:ne(ne({},n),null==a?void 0:a.constants),favorite:t,bullDescription:r,assistBanner:o};if(a&&(p.discount=ne(ne({},I.E3),a.discount),p.goodDeal=ne({},a.goodDealConfig)),c){var h=Object.entries(c).reduce((function(e,t){var n=(0,O.Z)(t,2),r=n[0],o=n[1];return ne(ne({},e),{},null===o?(0,s.Z)({},r,o):(0,s.Z)({},r,ne(ne({},o),{},{canSubmit:"selected"in o&&null!==o.selected})))}),{});h.power&&(h.power=ne(ne({},h.power),{},{value:"",possiblePowers:h.power.possiblePowers.map(String)})),h.engine&&(h.engine.volume=ne(ne({},h.engine.volume),{},{value:"",possibleVolumeCollection:h.engine.volume.possibleVolumeCollection.map(String)})),h.mileage&&(h.mileage=ne(ne({},h.mileage),{},{value:""})),p.editDescription=h}return l&&(p.gibddReport=function(e){return{data:{bullId:e.frameReport.data.bullId,identifier:e.frameStr,features:(a=e,c=Object.values(g).reduce((function(e,t){var n=a.frameReport.data[t];return n.length&&(e[t]=n),e}),{}),Object.keys(c).length?c:null),ownershipPeriods:S(e),restriction:N(e.frameReport.data.restrictedInfo.short),wanted:N(e.frameReport.data.wantedInfo.short),extendedReport:(n=e.frameReport.data.extendedReport,r=n.available,o=n.url,i=n.statsName,r?{statsName:i,url:o}:null),reportLink:e.reportLink},adminData:j(e),settings:{isAdmin:e.isAdmin,isVin:e.frameReport.isVin,hasDiscrepancies:(0,P.Z)(e.frameReport.data.discrepancies),showUpdateButton:(t=e.frameReport.data.updateVinInfoButtonStatus,t===y.USER_IS_ADMIN||t===y.SHOW_BUTTON||t===y.EMPTY_LOG_DATA),noInfoMessage:A(e),waitingData:{periods:e.frameReport.data.isOwnershipPeriodsPending,wantedInfo:e.frameReport.data.wantedInfo.reparse,restrictedInfo:e.frameReport.data.restrictedInfo.reparse}}};var t,n,r,o,i,a,c}(l)),u&&(p.ownerConfirmation=function(e){var t=e.documentNeededToUpload;return _(_({},(0,i.Z)(e,["documentNeededToUpload"])),{},{documentsToUpload:t.reduce((function(e,t){return _(_({},e),{},(0,s.Z)({},t.documentType,_(_({},t),{},{uploaded:!1})))}),{})})}(u)),d&&(p.gallery=d),f&&(p.questionsAndAnswers=U(U({},f),{},{dialogs:{},ui:{isWriteSellerFormVisible:!1}})),(0,E.xC)({reducer:ee,preloadedState:p,middleware:m})},oe=(0,n(5718).U)({name:"bull-page",client:"./index.ts",server:"./server.ts",placeholder:"./placeholder.tsx"});(0,r.P)(oe,(function(e){var t=e.pageMeta,n=e.favorite,r=e.constants,s=e.bullDescription,l=e.assistBanner,u=e.priceWidgetData,d=e.fastEdit,f=e.report,m=e.owningConfirmationNotice,p=e.gallery,h=e.qaBlock,g=(0,i.Z)(e,["pageMeta","favorite","constants","bullDescription","assistBanner","priceWidgetData","fastEdit","report","owningConfirmationNotice","gallery","qaBlock"]),v=re({favorite:n,constants:r,bullDescription:s,assistBanner:l,priceWidgetData:u,fastEdit:d,report:f,owningConfirmationNotice:m,gallery:p,qaBlock:h});return a.createElement(c.S,{moduleName:"sales-bull-page-root"},a.createElement(w,(0,o.Z)({store:v,title:t.titleBull,showPrice:Boolean(u),isTrusted:r.isTrusted,mileageCondition:r.mileageCondition,isOwner:r.isOwner,showGibddReport:Boolean(f),showOwningConfirmationNotice:Boolean(m),showGallery:Boolean(p),showQA:Boolean(h)},g)))}))},33497:function(e,t,n){"use strict";n.d(t,{Fn:function(){return u},pb:function(){return d},h1:function(){return f},dh:function(){return m},vk:function(){return p},m_:function(){return h},e_:function(){return g},Og:function(){return v}});var r=n(47570),o=n(54882),i=n(50997),a=n(1512),c={canEditBull:!1,engine:{fuel:null,volume:null,isHybrid:!1,isGbo:!1},power:null,transmission:o.Z.UNKNOWN,drive:i.Z.UNKNOWN,frameType:null,color:{color:null,showColor:!1},mileage:{mileage:null,mark:null},wheel:null,specialDescription:{hasDamage:!1,hasDocs:!1,noDocsDescription:null},generation:null,complectation:null,frame:null,modificationId:0,withoutBullDescription:!0},s=(0,r.oM)({name:"bull-description",initialState:c,reducers:{setEngine:function(e,t){var n=t.payload.engine;e.engine=n},setPower:function(e,t){var n,r=t.payload.power;e.power={power:r,tax:(null===(n=e.power)||void 0===n?void 0:n.tax)||null}},setTransmisstion:function(e,t){var n=t.payload.transmission;e.transmission=n},setDrive:function(e,t){var n=t.payload.drive;e.drive=n},setColor:function(e,t){var n=t.payload.color;e.color&&(e.color.color=n)},setMileage:function(e,t){var n=t.payload,r=n.mileage,o=n.withoutMileage;e.mileage&&(e.mileage.mileage=r,o&&(e.mileage.mark=a.u.WithoutMileageInRussia))},setWheel:function(e,t){var n=t.payload.wheel;e.wheel=n},setComplectation:function(e,t){var n=t.payload.complectation;e.complectation=n}}}),l=s.actions,u=l.setEngine,d=l.setPower,f=l.setTransmisstion,m=l.setDrive,p=l.setColor,h=l.setMileage,g=l.setWheel,v=l.setComplectation;t.ZP=s.reducer},98708:function(e,t,n){"use strict";n.d(t,{aQ:function(){return a}});var r=n(47570),o=n(20877),i=(0,r.oM)({name:"bull-gallery",initialState:{catalogVideos:[],editBullPhotoUrl:"",frameType:1,isProcessing:!1,mainPhotoIndex:0,panoramas:[],photos:[],shouldPreventFullscreenGallery:!1,shouldShowAddPhotos:!1,stickers:[],userVideos:[]},reducers:{setMainPhoto:function(e,t){var n=t.payload;e.photos=(0,o.Z)(e.photos,n,0),e.mainPhotoIndex=0}}});t.ZP=i.reducer;var a=i.actions.setMainPhoto},83953:function(e,t,n){"use strict";n.d(t,{ZP:function(){return P},Ee:function(){return T},VU:function(){return O},E3:function(){return p},ek:function(){return b},Z1:function(){return x},sA:function(){return Z},Fz:function(){return E}});var r=n(8078),o=n(47570),i=n(52409),a=n(14360),c=n(26315),s=n(1039),l=n(18067),u=function(){var e;return e={},(0,r.Z)(e,s.Z.DISCOUNT_TYPE,l.Z.AMOUNT),(0,r.Z)(e,s.Z.IS_MAXIMUM,!1),(0,r.Z)(e,s.Z.DESCRIPTION,""),(0,r.Z)(e,s.Z.NAME,""),(0,r.Z)(e,s.Z.PERCENT_DISCOUNT,""),(0,r.Z)(e,s.Z.AMOUNT_DISCOUNT,""),(0,r.Z)(e,s.Z.ID,0),e},d=function(e){return""!==(e[s.Z.DISCOUNT_TYPE]===l.Z.AMOUNT?e[s.Z.AMOUNT_DISCOUNT]:e[s.Z.PERCENT_DISCOUNT])&&!!(e[s.Z.IS_MAXIMUM]||""!==e[s.Z.NAME]&&""!==e[s.Z.DESCRIPTION])};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={canEditDiscount:!0,deletingDiscounts:[],discounts:[],formValues:u(),hasDiscount:!1,isFetching:!1,isFilled:!1,isMinimalPriceOpen:!1,isOpen:!1},h=(0,o.oM)({name:"discount",initialState:p,reducers:{toggleDiscountForm:function(e,t){var n,r=t.payload,o=null!=e&&null!==(n=e.formValues)&&void 0!==n&&n.id?u():e.formValues;e.isOpen=r,e.formValues=o,e.isFilled=d(o)},setDiscountFormField:function(e,t){var n=t.payload,o=n.field,i=n.value,a=m(m({},e.formValues),{},(0,r.Z)({},o,i));e.formValues=a,e.isFilled=d(a)},resetDiscountModal:function(e){e.formValues=u(),e.isOpen=!1,e.isFilled=!1},setDiscounts:function(e,t){var n=t.payload,r=n.discounts,o=n.discountPrice;e.discounts=r,e.discountPrice=o,e.hasDiscount=r.length>0},toggleMinimalPrice:function(e,t){var n=t.payload;e.isMinimalPriceOpen=n},setFetchingDiscount:function(e,t){var n=t.payload;e.isFetching=n},setDeletingDiscount:function(e,t){var n=t.payload,r=n.id;n.isDeleting?e.deletingDiscounts.push(r):e.deletingDiscounts=e.deletingDiscounts.filter((function(e){return e!==r}))},editDiscount:function(e,t){var n,o=t.payload;e.isOpen=!0,e.isFilled=!0;var i=e.discounts.find((function(e){return e.id===o}));e.formValues=(n={},(0,r.Z)(n,s.Z.DISCOUNT_TYPE,i.isAbsolute?l.Z.AMOUNT:l.Z.PERCENT),(0,r.Z)(n,s.Z.IS_MAXIMUM,i.isMaximum),(0,r.Z)(n,s.Z.DESCRIPTION,i.description),(0,r.Z)(n,s.Z.NAME,i.name),(0,r.Z)(n,s.Z.PERCENT_DISCOUNT,i.isAbsolute?"":String(i.value.toString())),(0,r.Z)(n,s.Z.AMOUNT_DISCOUNT,i.isAbsolute?String(i.value.toString()):""),(0,r.Z)(n,s.Z.ID,o),n)}}}),g=h.actions,v=g.setDeletingDiscount,b=g.setDiscountFormField,y=g.setDiscounts,w=g.setFetchingDiscount,O=g.editDiscount,Z=g.toggleDiscountForm,E=g.toggleMinimalPrice,D=g.resetDiscountModal,P=h.reducer,N=function(e){return"https://www.drom.ru/dealers/bull/".concat(e,"/discount")},T=function(e,t){return function(n,r){var o=r(),i=o.constants.bullId,s=o.discount.discounts.find((function(t){return t.id===e}));if(s){var l=s.name,u=s.isMaximum;n(v({id:e,isDeleting:!0})),fetch("".concat(N(i),"/delete/"),{method:"POST",credentials:"include",body:(0,a.Z)({discountId:e}),mode:"cors"}).then((function(e){return e.json()})).then((function(e){e.status?(n(y(e.data)),t("".concat(u?"Максимальная скидка":"Скидка ".concat(l)," удалена"))):alert(e.messages.join("\n"))})).catch(c.Z).then((function(){return n(v({id:e,isDeleting:!1}))}))}}},x=function(e){return function(t,n){var r=n(),o=r.discount.formValues,s=o.description,u=o.name,d=o.discountType,f=o.isMaximum,p=o.amountDiscount,h=o.percentDiscount,g=o.id,v=r.constants.bullId,b=(0,a.Z)(m(m({description:s,name:u,discountType:d,discount:d===l.Z.AMOUNT?p:h},f?{maxDiscount:!0}:{}),g?{discountId:g}:{}));t(w(!0)),fetch("".concat(N(v),"/save/"),{method:"POST",credentials:"include",body:b,mode:"cors"}).then((function(e){return e.json()})).then((function(n){n.status?(0,i.dC)((function(){t(y(n.data)),e("".concat(f?"Максимальная скидка":"Скидка ".concat(u)," добавлена")),t(D()),t(E(!0)),t(w(!1))})):(alert(n.messages.join("\n")),t(w(!1)))})).catch(c.Z).then((function(){return t(w(!1))}))}}},75840:function(e,t,n){"use strict";n.d(t,{no:function(){return f},jA:function(){return m},OT:function(){return p},OU:function(){return h},q4:function(){return g},dh:function(){return v},pb:function(){return b},e_:function(){return y},vk:function(){return w},m_:function(){return O},Py:function(){return Z},Og:function(){return D},Ps:function(){return N}});var r=n(8078),o=n(47570),i=n(14360),a=n(26315),c=n(33497);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,o.oM)({name:"edit-description",initialState:{color:null,driveType:null,engine:null,mileage:null,power:null,transmission:null,wheel:null,complectation:null},reducers:{forbidEditField:function(e,t){e[t.payload.field]=null},setFuel:function(e,t){var n=t.payload.value;e.engine.fuelType.selected=n,e.engine.canSubmit=Boolean(n)&&Boolean(e.engine.volume.value)},setVolume:function(e,t){var n=t.payload.value;e.engine.volume.value=n,e.engine.canSubmit=Boolean(n&&e.engine.fuelType.selected)},setHybrid:function(e,t){var n=t.payload.value;e.engine.hybrid.checked=n},setGbo:function(e,t){var n=t.payload.value;e.engine.gbo.checked=n},setTransmission:function(e,t){var n=t.payload.value;e.transmission.selected=n,e.transmission.canSubmit=Boolean(n)},setPower:function(e,t){var n=t.payload.value;e.power.value=n,e.power.canSubmit=Boolean(n)},setWheel:function(e,t){var n=t.payload.value;e.wheel.selected=n,e.wheel.canSubmit=Boolean(n)},setDrive:function(e,t){var n=t.payload.value;e.driveType.selected=n,e.driveType.canSubmit=Boolean(n)},setMileage:function(e,t){var n=t.payload.value;e.mileage.value=n,e.mileage.canSubmit=Boolean(n)},setWithoutMileage:function(e,t){var n=t.payload.value;e.mileage.editWithoutMileageChecked=n},setColor:function(e,t){var n=t.payload.color;e.color.selected===n?(e.color.selected=null,e.color.canSubmit=!1):(e.color.selected=n,e.color.canSubmit=!0)},setComplectation:function(e,t){var n=t.payload.value;e.complectation.selected=n,e.complectation.canSubmit=!0}}});t.ZP=u.reducer;var d=u.actions,f=d.setFuel,m=d.setVolume,p=d.setHybrid,h=d.setGbo,g=d.setTransmission,v=d.setDrive,b=d.setPower,y=d.setWheel,w=d.setColor,O=d.setMileage,Z=d.setWithoutMileage,E=d.forbidEditField,D=d.setComplectation,P=function(e,t){switch(e){case"engine":var n=t.engine,r=n.volume,o=n.fuelType,i=n.hybrid,a=n.gbo;return{volume:r.value,fueltype:o.selected,is_gbo_exists:(null==a?void 0:a.checked)||!1,hybrid_type:(null==i?void 0:i.checked)||!1};case"power":return{power:t.power.value};case"transmission":return{transmission:t.transmission.selected};case"driveType":return{privod:t.driveType.selected};case"color":return{color_id:t.color.selected};case"mileage":return{probeg_km:t.mileage.value,bezprobega:t.mileage.editWithoutMileageChecked};case"wheel":return{wheel:t.wheel.selected};case"complectation":return{complectation_id:t.complectation.selected.id};default:return{}}},N=function(e,t){return function(n,r){var o=r(),s=o.constants,u=s.api,d=s.bullId,f=s.formVersion,m=o.editDescription;if(function(e,t,n){if("mileage"===e){var r=t.mileage.value;if(Number(r)>999999)return n("Неверно указан пробег"),!1}else if("power"===e){var o=t.power.value;if(Number(o)>2e3)return n("Укажите мощность от 1 до 2000"),!1}return!0}(e,m,t)){var p=(0,i.Z)({mode:"edit_bull",crossdomain_ajax_request:"3",bull_id:d,params:JSON.stringify(l(l({},P(e,m)),{},{form_version:f}))});fetch("".concat(u,"ajax"),{method:"POST",credentials:"include",body:p}).then((function(e){return e.json()})).then((function(r){r.status?"wheel"===e?window.location.reload():(n(function(e,t){switch(e){case"engine":var n=t.engine,r=n.fuelType,o=n.volume,i=n.gbo,a=n.hybrid,s=Number(o.value);return(0,c.Fn)({engine:{fuel:r.selected,volume:s>=100?s/1e3:s,isHybrid:(null==a?void 0:a.checked)||!1,isGbo:(null==i?void 0:i.checked)||!1}});case"power":return(0,c.pb)({power:Number(t.power.value)});case"transmission":return(0,c.h1)({transmission:t.transmission.selected});case"driveType":return(0,c.dh)({drive:t.driveType.selected});case"color":return(0,c.vk)({color:t.color.selected});case"mileage":return(0,c.m_)({mileage:Number(t.mileage.value),withoutMileage:t.mileage.editWithoutMileageChecked});case"wheel":return(0,c.e_)({wheel:t.wheel.selected});case"complectation":return(0,c.Og)({complectation:{complectationName:t.complectation.selected.shortTitle,catalogComplectationUrl:t.complectation.selected.url}});default:throw new Error("Wrong field")}}(e,m)),n(E({field:e}))):t(r.message)})).catch((function(){return t(a.c)}))}}}},96030:function(e,t,n){"use strict";n.d(t,{WZ:function(){return f}});var r=n(15930),o=n(63869),i=n.n(o),a=n(47570),c=n(16266),s=(0,a.oM)({name:"favorite",initialState:{favorite:!1,show:!1},reducers:{addToFavorite:function(e){e.favorite=!0},removeFromFavorite:function(e){e.favorite=!1}}});t.ZP=s.reducer;var l=s.actions,u=l.addToFavorite,d=l.removeFromFavorite,f=function(e,t){return function(){var n=(0,r.Z)(i().mark((function n(r,o){var a,s,l,f,m;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=o(),s=a.favorite.favorite,l=a.constants,f=l.api,m=l.bullId,(0,c.Z)({api:f,bullId:m,isFavorite:s,addToFavorite:u,removeFromFavorite:d,dispatch:r,onSuccess:e,onError:t});case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}},69438:function(e,t,n){"use strict";n.d(t,{VA:function(){return u}});var r=n(15930),o=n(63869),i=n.n(o),a=n(47570),c="Произошла ошибка. Пожалуйста, попробуйте позже.",s=(0,a.oM)({name:"settings",initialState:{hasDiscrepancies:!1,isAdmin:!1,isVin:!1,showUpdateButton:!1,noInfoMessage:null,waitingData:{periods:!1,wantedInfo:!1,restrictedInfo:!1}},reducers:{startWaitingCarReportData:function(e){e.waitingData={periods:!0,wantedInfo:!0,restrictedInfo:!0}}}}),l=s.actions.startWaitingCarReportData,u=function(){return function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),o=r.constants,t(l()),(a=new FormData).append("bullId",o.bullId.toString()),e.prev=4,e.next=7,fetch("https://auto.drom.ru/ajax/?mode=update_frame_info&crossdomain_ajax_request=3",{method:"POST",body:a,credentials:"include"});case 7:return s=e.sent,e.next=10,s.json();case 10:e.sent.status||alert(c),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),alert(c),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t,n){return e.apply(this,arguments)}}()};t.ZP=s.reducer},84424:function(e,t,n){"use strict";n.d(t,{NI:function(){return c}});var r=n(47570),o=n(7466),i=(0,r.oM)({name:"good-deal",initialState:{npsRequested:!1,dealType:null,hasGoodDeal:!1,marketPrice:null,showDtpInfoClause:!1},reducers:{setNpsRequested:function(e){e.npsRequested=!0}}}),a=i.actions.setNpsRequested;t.ZP=i.reducer;var c=function(){return function(e,t){var r=t(),i=r.constants.bullId;r.goodDeal.npsRequested||(e(a()),fetch(function(e){return"https://www.drom.ru/common_ajax_processor.php?".concat((0,o.Z)({crossdomain_ajax_request:3,mode:"ajax_good_deal_show_nps",bull_id:e}))}(i),{credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(e){var t=e.show_nps,r=e.nps_config;if(t){var o=document.createElement("div");document.body.appendChild(o),Promise.all([n.e(3889),n.e(0),n.e(2874)]).then(n.bind(n,82671)).then((function(e){(0,e.default)(r,o)}))}})))}}},47019:function(e,t,n){"use strict";n.d(t,{sA:function(){return c},AG:function(){return s}});var r=n(47570),o={widgetType:n(31266).l.NeedConfirnamtion,declineReasonHint:null,documentsToUpload:{},withCustomCamera:!1},i=(0,r.oM)({name:"owner-confirmation",initialState:o,reducers:{setDocumentUploaded:function(e,t){var n=e.documentsToUpload[t.payload];n&&(n.uploaded=!0)},setWidgetType:function(e,t){e.widgetType=t.payload}}});t.ZP=i.reducer;var a=i.actions,c=a.setDocumentUploaded,s=a.setWidgetType},99600:function(e,t,n){"use strict";n.d(t,{jt:function(){return L},ZP:function(){return Z},hp:function(){return V},pE:function(){return C},z_:function(){return q},TC:function(){return W},vk:function(){return B},nE:function(){return k},ot:function(){return I},K2:function(){return _}});var r=n(47570),o=n(14360),i=n(8078);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s=new RegExp("\\?","g"),l=function(e){var t,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}(n.links);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.text=n.text.replace(new RegExp(o.originalUrl.replace(s,"\\?"),"g"),"")}}catch(e){r.e(e)}finally{r.f()}return n.text=n.text.trim(),n.text=n.text.replace(/\r\n|\n|\r/gm,"<br />"),n.text=n.text.replace(/\+?[78]?[-\s]?[-\s(]?(9\d{2})\)?[-\s]?(\d{3})[-\s]?(\d{2})[-\s]?(\d{2})/gm,'<a href="tel:+7$1$2$3$4">+7 $1 $2-$3-$4</a>'),n.text=n.text.replace(/(https?:\/\/)(www\.)?([-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,4}\b)([-a-zA-Z0-9@:%_+.~#?&/=]*)/gm,(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return o.length>30?'<a href="'.concat(e,'">').concat(n).concat(r,"/...").concat(o.substring(o.length-20),"</a>"):'<a href="'.concat(e,'">').concat(n).concat(r).concat(o,"</a>")})),n},u=n(29847);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t=e.messages;return f(f({},(0,u.Z)(e,["messages"])),{},{messages:t.map(l),deleted:!1,deletedAsSpam:!1})},p=n(8698),h=n(89725),g={authentication:{authorizationNeed:{type:h.ET.ShouldLogin,url:""}},canPostQuestion:!1,dialogs:{},ui:{isWriteSellerFormVisible:!1}},v="Ваше сообщение отправлено",b="Что-то пошло не так, повторите операцию позже",y={4041:b,4043:"Необходимо авторизоваться, чтобы задать вопрос"},w=function(e,t){var n;if(null!=e&&e.errors&&null!==(n=e.errors[0])&&void 0!==n&&n.message){var r=e.errors[0].message,o=e.errors[0].code||e.errors[0].message;y[e.errors[0].code]&&(r=y[e.errors[0].code]),t(r,{id:o,notificationsToRemove:[o]})}else!function(e){var t="dialog-error";e(b,{id:t,notificationsToRemove:[t]})}(t)},O=(0,r.oM)({name:"questions-and-answers",initialState:g,reducers:{setDialogs:function(e,t){var n=t.payload;e.dialogs=n.reduce((function(e,t){return e[t.id]=m(t),e}),{})},addDialog:function(e,t){var n=t.payload;e.dialogs[n.id]=m(n)},setDialogVisibility:function(e,t){var n=t.payload,r=n.id,o=n.value;e.dialogs[r].visibility=o},setDialogDeleted:function(e,t){var n=t.payload,r=n.id,o=n.value;e.dialogs[r].deleted=o},addMessageToDialog:function(e,t){var n=t.payload,r=n.id,o=n.message;e.dialogs[r].messages.push(o)},setDialogSpamValue:function(e,t){var n=t.payload,r=n.id,o=n.value;e.dialogs[r].deleted=o},setDialogSpamValueAsModerator:function(e,t){var n=t.payload,r=n.id,o=n.value;e.dialogs[r].deletedAsSpam=o},markMessagesAsDelivered:function(e,t){var n=t.payload,r=n.id,o=n.excludeMessageAuthor;e.dialogs[r].messages.forEach((function(e){e.author!==o&&(e.delivered=!0)}))},setWriteSellerFormVisibility:function(e,t){var n=t.payload;e.ui.isWriteSellerFormVisible=n}}}),Z=O.reducer,E=O.actions,D=E.setDialogs,P=E.addDialog,N=E.setDialogVisibility,T=E.setDialogDeleted,x=E.addMessageToDialog,S=E.setDialogSpamValue,j=E.setDialogSpamValueAsModerator,A=E.markMessagesAsDelivered,I=E.setWriteSellerFormVisibility,V=function(){return function(e,t){var n=t().constants.bullId,r="".concat(p.$Z,"/").concat(n,"/dialogs");fetch(r,{credentials:"include"}).then((function(e){return e.json()})).then((function(t){return e(D(t))})).catch((function(e){return console.error(e)}))}},_=function(e,t,n,r){return function(i){var a="".concat(p.b7,"/").concat("private"===t?"show":"hide","-dialog/").concat(e),c="dialog-".concat(e,"-toggle-visibility");i(N({id:e,value:"private"===t?"public":"private"})),r&&r("private"===t?"Диалог видят все пользователи":"Диалог видите вы и собеседник",{notificationsToRemove:[c],id:c}),fetch(a,{method:"POST",credentials:"include",body:(0,o.Z)({ajax:1})}).catch((function(r){console.error(r),n(b,{notificationsToRemove:[c],id:c}),i(N({id:e,value:t}))}))}},M=function(e){return"dialog-".concat(e,"-remove")},U=function(e){return"dialog-".concat(e,"-restore")},R=function(e){return"dialog-".concat(e,"-report-spam")},C=function(e,t,n){return function(r,i){var a=i().constants.isOwner,c="".concat(p.b7,"/remove-dialog/").concat(e),s=M(e),l=U(e);r(A({id:e,excludeMessageAuthor:a?h.Tt.Owner:h.Tt.User})),r(T({id:e,value:!0})),n("Диалог удален",{notificationsToRemove:[s,l],id:s}),fetch(c,{method:"POST",credentials:"include",body:(0,o.Z)({ajax:1,viewBullMode:1})}).catch((function(n){console.error(n),t(b,{notificationsToRemove:[s,l],id:s}),r(T({id:e,value:!1}))}))}},k=function(e,t,n){return function(r){var i="".concat(p.b7,"/restore-dialog/").concat(e),a=M(e),c=U(e),s=R(e);r(T({id:e,value:!0})),n("Диалог восстановлен",{notificationsToRemove:[a,c,s],id:c}),r(T({id:e,value:!1})),fetch(i,{method:"POST",credentials:"include",body:(0,o.Z)({ajax:1,viewBullMode:1})}).catch((function(n){console.error(n),t(b,{notificationsToRemove:[a,c],id:c}),r(T({id:e,value:!0}))}))}},F=function(e,t){return{id:e.id,author:t?h.Tt.Owner:h.Tt.User,text:e.text,links:e.linksPayload,sendDate:e.sendDate,delivered:e.delivered}},W=function(e,t,n,r,i,a){return function(c,s){var u=s(),d=u.constants.isOwner,f=u.questionsAndAnswers.dialogs[e],m="".concat(p.uc,"/reply-in-dialog.json");fetch(m,{method:"POST",credentials:"include",body:(0,o.Z)({dialogId:e,text:t})}).then((function(e){return e.json()})).then((function(t){if(t.errors)throw t;a(v),c(A({id:e,excludeMessageAuthor:d?h.Tt.Owner:h.Tt.User})),c(x({id:e,message:l(F(t.message,d))})),r(),null!==n&&(null==f?void 0:f.visibility)!==n&&c(_(e,"private"===n?"public":"private",i))})).catch((function(e){w(e,i),console.error(e)}))}},B=function(e,t,n){return function(r,i){var a=i().constants.isOwner,c="".concat(p.b7,"/spam-report/").concat(e),s=R(e);n("Диалог помечен как спам",{id:s,notificationsToRemove:[s]}),r(A({id:e,excludeMessageAuthor:a?h.Tt.Owner:h.Tt.User})),r(S({id:e,value:!0})),fetch(c,{method:"POST",credentials:"include",body:(0,o.Z)({ajax:1,viewBullMode:1})}).catch((function(n){console.error(n),t(b,{id:s,notificationsToRemove:[s]}),r(S({id:e,value:!1}))}))}},L=function(e,t,n,r){return function(i,a){var c=a(),s=c.constants.bullId,l=c.questionsAndAnswers.authentication,u="".concat(p.uc,"/ask-question.json");fetch(u,{method:"POST",credentials:"include",body:(0,o.Z)({text:e,type:"dromBulletin",id:s})}).then((function(e){return e.json()})).then((function(e){if(e.errors)throw e;r(v),i(P({id:e.dialogId,visibility:"private",sender:{userId:e.message.senderUserId,userName:(null==l?void 0:l.login)||""},recipient:{userId:0,userName:""},messages:[F(e.message,!1)]})),t()})).catch((function(e){w(e,n),console.error(e)}))}},q=function(e,t,n){return function(r){var i="".concat(p.b7,"/remove-dialog-as-spam/").concat(e),a="dialog-".concat(e,"-remove-as-spam");r(j({id:e,value:!0})),n("Диалог удален как спам",{id:a,notificationsToRemove:[a]}),fetch(i,{method:"POST",credentials:"include",body:(0,o.Z)({ajax:1,viewBullMode:1})}).catch((function(n){t(b,{id:a,notificationsToRemove:[a]}),console.error(n),r(j({id:e,value:!1}))}))}}},62599:function(e,t,n){"use strict";n.d(t,{lH:function(){return m},d0:function(){return p}});var r=n(61428),o=n(7744),i=n(54387),a=n(24155),c=n(96919),s=n(97586),l=n(26089),u=n(51780),d=n(6663),f=n(9136),m=(0,o.Z)("div",{target:"eu1tlb00"})({name:"79elbk",styles:"position:relative;"}),p=(0,o.Z)("div",{target:"eu1tlb01"})("left:0;top:50%;height:50%;width:100%;position:absolute;z-index:1;background:linear-gradient(180deg,transparent 0%,",a.ix," 100%);");t.ZP=function(e){var t=e.stripBottom,n=void 0!==t&&t;return i.createElement(s.Z,{spacings:[{bottom:"medium"},{bottom:"huge"},{bottom:"100px"},{right:"medium"},{bottom:"150px"},{bottom:"16px"}]},(function(e){var t=(0,r.Z)(e,6),o=t[0],a=t[1],s=t[2],h=t[3],g=t[4],v=t[5];return i.createElement(m,null,i.createElement(p,null),i.createElement(c.Z,{className:s}),i.createElement(d.vs,{className:g},i.createElement(l.Z,{widthValue:"100%",heightValue:"30px",className:v}),i.createElement(l.Z,{widthValue:"30%",heightValue:"30px",className:o}),i.createElement(d.lK,null,i.createElement(d.HF,null,i.createElement(u.Z,{heightValue:"434px",className:a}),!n&&i.createElement(i.Fragment,null,i.createElement(l.Z,{widthValue:"60%",heightValue:"30px",className:o}),i.createElement(f.ZP,null,i.createElement(u.Z,{className:h,widthValue:"50%",heightValue:"316px"}),i.createElement(u.Z,{widthValue:"50%",heightValue:"316px"})))),i.createElement(d.z$,null,i.createElement(u.Z,{heightValue:n?"434px":"860px"})))))}))}},50997:function(e,t){"use strict";var n;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FRONT=1]="FRONT",e[e.REAR=2]="REAR",e[e.TYPE_4WD=3]="TYPE_4WD"}(n||(n={})),t.Z=n},54882:function(e,t){"use strict";var n;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.MANUAL=1]="MANUAL",e[e.AUTO=2]="AUTO"}(n||(n={})),t.Z=n},36584:function(e,t){"use strict";t.Z=function(e){return Object.values(e).some(Boolean)}},65179:function(e,t,n){"use strict";var r=n(61428),o=n(15930),i=n(63869),a=n.n(i),c=function(){var e=(0,o.Z)(a().mark((function e(t,n){var o,i,c,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new Promise((function(e){return setTimeout((function(){return e()}),n)})),e.next=3,Promise.all([t,o]);case 3:return i=e.sent,c=(0,r.Z)(i,1),s=c[0],e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.Z=c},20877:function(e,t,n){"use strict";var r=n(59891);t.Z=function(e,t,n){if(n>e.length||t>e.length||t===n||t<0||n<0)return e;var o=(0,r.Z)(e);return o.splice(n,0,o.splice(t,1)[0]),o}},91851:function(e,t){"use strict";t.Z=function(e){return e?new Date(e).toLocaleDateString("RU"):null}}},function(e){"use strict";e.O(void 0,[8588,3889,3534,9677,6088,870,9787,5403,4317,2256,9463],(function(){return 66619,e(e.s=66619)}))}]);